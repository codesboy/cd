<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>新增客户</title>
<link href="__PUBLIC__static/easyui/css/easyui.css" rel="stylesheet" type="text/css" />
<link href="__PUBLIC__static/easyui/css/icon.css" rel="stylesheet" type="text/css" />
<script src="__PUBLIC__static/easyui/js/jquery.min.js" type="text/javascript"></script>
<script src="__PUBLIC__static/easyui/js/jquery.easyui.min.js" type="text/javascript"></script>
<script src="__PUBLIC__static/easyui/js/easyui-lang-zh_CN.js" type="text/javascript"></script>
</head>
<body>
    <div style="margin:20px 0;"></div>
    
    <table id="dg" class="easyui-datagrid11" title="Client Side Pagination">
        
    </table>
    <script>
        
        
        $(function(){
            $('#dg').datagrid({
                url:'{:url('returndata')}',
                columns:[[
                    {field:'id',title:'ID',width:1},
                    {field:'username',title:'姓名',width:1},
                    {field:'usersn',title:'客户编号',width:1},
                    {field:'sex',title:'性别',width:1},
                    {field:'age',title:'年龄',width:1},
                    {field:'tel',title:'手机号',width:1},
                    {field:'dev_id',title:'开发渠道',width:1},
                    {field:'from_id',title:'信息来源',width:1},
                    {field:'tool_id',title:'咨询工具',width:1},
                    {field:'addtime',title:'录入时间'}
                ]],
                fitColumns:true
                /*loadFilter: function(data){
                    console.info(data);
                    return data;
                    
                }*/
 
            });
        });


        /*function getData(){
            var rows = [];
            for(var i=1; i<=19; i++){
                var amount = Math.floor(Math.random()*1000);
                var price = Math.floor(Math.random()*1000);
                rows.push({
                    inv: 'Inv No '+i,
                    date: $.fn.datebox.defaults.formatter(new Date()),
                    name: 'Name '+i,
                    amount: amount,
                    price: price,
                    cost: amount*price,
                    note: 'Note '+i
                });
            }
            return rows;
        }
        
        function pagerFilter(data){
            if (typeof data.length == 'number' && typeof data.splice == 'function'){    // is array
                data = {
                    total: data.length,
                    rows: data
                }
            }
            var dg = $(this);
            var opts = dg.datagrid('options');
            var pager = dg.datagrid('getPager');
            pager.pagination({
                onSelectPage:function(pageNum, pageSize){
                    opts.pageNumber = pageNum;
                    opts.pageSize = pageSize;
                    pager.pagination('refresh',{
                        pageNumber:pageNum,
                        pageSize:pageSize
                    });
                    dg.datagrid('loadData',data);
                }
            });
            if (!data.originalRows){
                data.originalRows = (data.rows);
            }
            var start = (opts.pageNumber-1)*parseInt(opts.pageSize);
            var end = start + parseInt(opts.pageSize);
            data.rows = (data.originalRows.slice(start, end));
            return data;
        }*/
    </script>
</body>
</html>
